{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Dell\\\\Downloads\\\\AdminDashboard\\\\AdminDashboard\\\\frontend\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from 'react';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport ManageUsers from './ManageUsers';\nimport CreateUserForm from './CreateUserForm';\nimport EditUserForm from './EditUserForm';\nimport './style.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function App() {\n  _s();\n  const [users, setUsers] = useState([]);\n  const [error, setError] = useState(null);\n  const [isLoading, setIsLoading] = useState(true);\n  const [view, setView] = useState('list'); // 'list', 'create', 'edit'\n  const [editingUser, setEditingUser] = useState(null);\n  const fetchUsers = async () => {\n    try {\n      const response = await fetch('http://localhost:3001/users');\n      if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);\n      const data = await response.json();\n      setUsers(data);\n      setError(null);\n    } catch (err) {\n      setError(err.message);\n      setUsers([]);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  useEffect(() => {\n    fetchUsers();\n  }, []);\n  const handleEditUser = user => {\n    setEditingUser(user);\n    setView('edit');\n  };\n  const handleDeleteUser = async userId => {\n    const confirm = window.confirm('Are you sure you want to delete this user?');\n    if (!confirm) return;\n    try {\n      const res = await fetch(`http://localhost:3001/users/${userId}`, {\n        method: 'DELETE'\n      });\n      if (!res.ok) throw new Error('Failed to delete user');\n      await fetchUsers();\n    } catch (err) {\n      alert('Delete failed: ' + err.message);\n    }\n  };\n  const handleCreateClick = () => {\n    setEditingUser(null);\n    setView('create');\n  };\n  const handleCancel = () => {\n    setEditingUser(null);\n    setView('list');\n  };\n  return /*#__PURE__*/_jsxDEV(Router, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"admin-dashboard\",\n      children: [/*#__PURE__*/_jsxDEV(\"header\", {\n        className: \"admin-header\",\n        children: /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Admin Dashboard\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"nav\", {\n        className: \"admin-nav\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleCreateClick,\n          children: \"Create User\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this), isLoading ? /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Loading users...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 11\n      }, this) : error ? /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Error: \", error]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 11\n      }, this) : view === 'list' ? /*#__PURE__*/_jsxDEV(ManageUsers, {\n        users: users,\n        onEdit: handleEditUser,\n        onDelete: handleDeleteUser,\n        fetchUsers: fetchUsers // <-- Add this line\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 11\n      }, this) : view === 'create' ? /*#__PURE__*/_jsxDEV(CreateUserForm, {\n        onCancel: handleCancel,\n        fetchUsers: fetchUsers\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 11\n      }, this) : view === 'edit' ? /*#__PURE__*/_jsxDEV(EditUserForm, {\n        user: editingUser,\n        onCancel: handleCancel,\n        fetchUsers: fetchUsers\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 11\n      }, this) : null]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 5\n  }, this);\n} // <--- This closing brace was missing\n_s(App, \"nah6O0IiXmxNcPEV3B0bYzAFW5A=\");\n_c = App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["useEffect","useState","BrowserRouter","Router","ManageUsers","CreateUserForm","EditUserForm","jsxDEV","_jsxDEV","App","_s","users","setUsers","error","setError","isLoading","setIsLoading","view","setView","editingUser","setEditingUser","fetchUsers","response","fetch","ok","Error","status","data","json","err","message","handleEditUser","user","handleDeleteUser","userId","confirm","window","res","method","alert","handleCreateClick","handleCancel","children","className","fileName","_jsxFileName","lineNumber","columnNumber","onClick","onEdit","onDelete","onCancel","_c","$RefreshReg$"],"sources":["C:/Users/Dell/Downloads/AdminDashboard/AdminDashboard/frontend/src/App.js"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport ManageUsers from './ManageUsers';\nimport CreateUserForm from './CreateUserForm';\nimport EditUserForm from './EditUserForm';\n\nimport './style.css';\n\nexport default function App() {\n  const [users, setUsers] = useState([]);\n  const [error, setError] = useState(null);\n  const [isLoading, setIsLoading] = useState(true);\n  const [view, setView] = useState('list'); // 'list', 'create', 'edit'\n  const [editingUser, setEditingUser] = useState(null);\n\n  const fetchUsers = async () => {\n    try {\n      const response = await fetch('http://localhost:3001/users');\n      if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);\n      const data = await response.json();\n      setUsers(data);\n      setError(null);\n    } catch (err) {\n      setError(err.message);\n      setUsers([]);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    fetchUsers();\n  }, []);\n\n  const handleEditUser = (user) => {\n    setEditingUser(user);\n    setView('edit');\n  };\n\n  const handleDeleteUser = async (userId) => {\n    const confirm = window.confirm('Are you sure you want to delete this user?');\n    if (!confirm) return;\n\n    try {\n      const res = await fetch(`http://localhost:3001/users/${userId}`, {\n        method: 'DELETE',\n      });\n      if (!res.ok) throw new Error('Failed to delete user');\n      await fetchUsers();\n    } catch (err) {\n      alert('Delete failed: ' + err.message);\n    }\n  };\n\n  const handleCreateClick = () => {\n    setEditingUser(null);\n    setView('create');\n  };\n\n  const handleCancel = () => {\n    setEditingUser(null);\n    setView('list');\n  };\n\n  return (\n    <Router>\n      <div className=\"admin-dashboard\">\n        <header className=\"admin-header\">\n          <h2>Admin Dashboard</h2>\n        </header>\n\n        <nav className=\"admin-nav\">\n          <button onClick={handleCreateClick}>Create User</button>\n        </nav>\n\n        {isLoading ? (\n          <p>Loading users...</p>\n        ) : error ? (\n          <p>Error: {error}</p>\n        ) : view === 'list' ? (\n          <ManageUsers\n                 users={users}\n                 onEdit={handleEditUser}\n                 onDelete={handleDeleteUser}\n  fetchUsers={fetchUsers}  // <-- Add this line\n/>\n\n        ) : view === 'create' ? (\n          <CreateUserForm\n            onCancel={handleCancel}\n            fetchUsers={fetchUsers}\n          />\n        ) : view === 'edit' ? (\n          <EditUserForm\n            user={editingUser}\n            onCancel={handleCancel}\n            fetchUsers={fetchUsers}\n          />\n        ) : null}\n      </div>\n    </Router>\n  );\n}  // <--- This closing brace was missing\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}